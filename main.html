<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>EmberLight Game</title>
    <link rel="stylesheet" href="https://unpkg.com/leopard@^1/dist/index.min.css" />
    <style>
      /* Make the project container fill the whole screen */
      html, body {
        margin: 0;
        padding: 0;
        overflow: hidden; /* prevent scrollbars */
        width: 100%;
        height: 100%;
        background: black; /* optional background */
      }

      #project {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <!-- Project container -->
    <div id="project"></div>

    <script type="module">
      import project from "./index.js";

      // Attach project to div
      project.attach("#project");

      // Start project logic (TitleScreen and other sprites)
      project.greenFlag();

      // Play title screen music after first user interaction (required by browsers)
      document.body.addEventListener("click", () => {
        const titleScreen = project.sprites.TitleScreen;
        if (titleScreen) {
          titleScreen.playSoundUntilDone("emberlight-titlescreen");
        }
      }, { once: true });
    </script>
  </body>
</html>
